<!DOCTYPE html><html lang="zh" data-dark="true"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui"><meta name="renderer" content="webkit"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no,email=no,adress=no"><meta name="theme-color" content="#000000"><meta http-equiv="window-target" content="_top"><script data-ad-client="ca-pub-3540467103914375" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><title>给你的网站加把锁 -- Let&#39;s Encrypt 完全体验 | 云淡风轻</title><meta name="description" content="今天抽时间将所有的网站SSL证书都更新了成 Let’s Encrypt 了。采用了certbot 这样的自动化工具，配置管理起来非常容易(一本正经的胡说八道)，这里将对整个体验过程做个详细记录。了解 Let’s EncryptThe project aims to make encrypted connections in the World Wide Web the default case."><meta property="og:type" content="article"><meta property="og:title" content="给你的网站加把锁 -- Let&#39;s Encrypt 完全体验"><meta property="og:url" content="https://ioliu.cn/2017/add-a-lock-to-your-website/index.html"><meta property="og:site_name" content="云淡风轻"><meta property="og:description" content="今天抽时间将所有的网站SSL证书都更新了成 Let’s Encrypt 了。采用了certbot 这样的自动化工具，配置管理起来非常容易(一本正经的胡说八道)，这里将对整个体验过程做个详细记录。了解 Let’s EncryptThe project aims to make encrypted connections in the World Wide Web the default case."><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://tva2.sinaimg.com/large/006qRazegy1fdunpet5toj30t50d7n3d.jpg"><meta property="og:image" content="https://tva2.sinaimg.com/large/006qRazegy1fduo29ztewj30mb0bxt9d.jpg"><meta property="og:image" content="https://tva2.sinaimg.com/large/006qRazegy1fdup0jojf7j30fv0bdwf1.jpg"><meta property="og:image" content="https://tva2.sinaimg.com/large/006qRazegy1fdupi6lhxmj30oz0lon0q.jpg"><meta property="og:image" content="https://tva2.sinaimg.com/large/006qRazegy1fdupmoluqij306y035glg.jpg"><meta property="og:image" content="https://tva2.sinaimg.com/large/006qRazegy1fdupydm71rj30ts0fkt9s.jpg"><meta property="article:published_time" content="2017-03-21T10:30:25.000Z"><meta property="article:modified_time" content="2024-03-22T07:59:22.460Z"><meta property="article:author" content="云淡风轻"><meta property="article:tag" content="Let&#39;s Encrypt"><meta property="article:tag" content="https"><meta property="article:tag" content="cerbot"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://tva2.sinaimg.com/large/006qRazegy1fdunpet5toj30t50d7n3d.jpg"><link rel="canonical" href="https://ioliu.cn/2017/add-a-lock-to-your-website/index.html"><link rel="alternate" href="/atom.xml" title="云淡风轻" type="application/atom+xml"><link rel="icon" href="/images/avatar.jpg" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><meta name="generator" content="Hexo 7.1.1"></head><body class="main-center" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="slimContent"><div class="navbar-header"><div class="profile-block text-center"><a id="avatar" href="https://github.com/xCss" target="_blank"><img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200"></a><h2 id="name" class="hidden-xs hidden-sm"><a href="/">云淡风轻</a></h2><h3 id="title" class="hidden-xs hidden-sm hidden-md">一个安静的角落</h3><small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Guangzhou, China</small></div><div class="search" id="search-form-wrap"><form class="search-form sidebar-form"><div class="input-group"><input type="text" class="search-form-input form-control" placeholder="搜索"> <span class="input-group-btn"><button type="submit" class="search-form-submit btn btn-flat" onclick="return!1"><i class="icon icon-search"></i></button></span></div></form><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech> <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div></div><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button></div><nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation"><ul class="nav navbar-nav main-nav menu-highlight"><li class="menu-item menu-item-home"><a href="/."><i class="icon icon-home-fill"></i> <span class="menu-title">首页</span></a></li><li class="menu-item menu-item-archives"><a href="/archives"><i class="icon icon-archives-fill"></i> <span class="menu-title">归档</span></a></li><li class="menu-item menu-item-categories"><a href="/categories"><i class="icon icon-folder"></i> <span class="menu-title">分类</span></a></li><li class="menu-item menu-item-repository"><a href="/repository"><i class="icon icon-project"></i> <span class="menu-title">项目</span></a></li><li class="menu-item menu-item-links"><a href="/links"><i class="icon icon-friendship"></i> <span class="menu-title">友链</span></a></li><li class="menu-item menu-item-about"><a href="/about"><i class="icon icon-cup-fill"></i> <span class="menu-title">关于</span></a></li></ul><ul class="social-links"><li><a href="https://github.com/xCss" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li><li><a href="http://weibo.com/BingPictures" target="_blank" title="Weibo" data-toggle="tooltip" data-placement="top"><i class="icon icon-weibo"></i></a></li><li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li><li><div class="darkmode-toggle" title="主题切换" data-toggle="tooltip" data-placement="top">🌓</div></li></ul></nav></div></header><aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><div class="widget"><h3 class="widget-title">公告</h3><div class="widget-body"><div id="board"><div class="content"><p>这个人很懒，什么都留下</p></div></div></div></div><div class="widget"><h3 class="widget-title">最新文章</h3><div class="widget-body"><ul class="recent-post-list list-unstyled no-thumbnail"><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></p><p class="item-title"><a href="/2017/git-command-backup/" class="title">Git中的一些骚操作</a></p><p class="item-date"><time datetime="2017-11-10T06:30:25.000Z" itemprop="datePublished">2017-11-10</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></p><p class="item-title"><a href="/2017/add-valine-comments-to-your-blog/" class="title">Valine -- 一款极简的评论系统</a></p><p class="item-date"><time datetime="2017-08-07T06:30:25.000Z" itemprop="datePublished">2017-08-07</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E5%85%B6%E4%BB%96/">其他</a></p><p class="item-title"><a href="/2017/country-city-and-language/" class="title">不同的国家/地区与语言缩写代码</a></p><p class="item-date"><time datetime="2017-06-29T07:30:08.000Z" itemprop="datePublished">2017-06-29</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></p><p class="item-title"><a href="/2017/mysql-tutorial/" class="title">从删库到跑路 -- MySql 不算初体验的初体验</a></p><p class="item-date"><time datetime="2017-03-24T03:00:25.000Z" itemprop="datePublished">2017-03-24</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></p><p class="item-title"><a href="/2017/add-a-lock-to-your-website/" class="title">给你的网站加把锁 -- Let&#39;s Encrypt 完全体验</a></p><p class="item-date"><time datetime="2017-03-21T10:30:25.000Z" itemprop="datePublished">2017-03-21</time></p></div></li></ul></div></div></div></aside><main class="main" role="main"><div class="content"><article id="post-add-a-lock-to-your-website" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting"><div class="article-header"><h1 class="article-title" itemprop="name">给你的网站加把锁 -- Let&#39;s Encrypt 完全体验</h1><div class="article-meta"><span class="article-date"><i class="icon icon-calendar-check"></i> <a href="/2017/add-a-lock-to-your-website/" class="article-date"><time datetime="2017-03-21T10:30:25.000Z" itemprop="datePublished">2017-03-21</time> </a></span><span class="article-category"><i class="icon icon-folder"></i> <a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a> </span><span class="article-tag"><i class="icon icon-tags"></i> <a class="article-tag-link-link" href="/tags/Let-s-Encrypt/" rel="tag">Let's Encrypt</a>, <a class="article-tag-link-link" href="/tags/cerbot/" rel="tag">cerbot</a>, <a class="article-tag-link-link" href="/tags/https/" rel="tag">https</a> </span><span class="article-read hidden-xs"><i class="icon icon-eye-fill" aria-hidden="true"></i> <span id="/2017/add-a-lock-to-your-website/" class="leancloud_visitors" data-flag-title="给你的网站加把锁 -- Let&#39;s Encrypt 完全体验"><span class="leancloud-visitors-count">0</span> </span></span><span class="post-comment"><i class="icon icon-comment"></i> <a href="/2017/add-a-lock-to-your-website/#comments" class="article-comment-link">评论</a></span> <span class="post-wordcount hidden-xs" itemprop="wordCount">字数统计: 1.3k字</span> <span class="post-readcount hidden-xs" itemprop="timeRequired">阅读时长: 5分</span></div></div><div class="article-entry marked-body" itemprop="articleBody"><p><img src="https://tva2.sinaimg.com/large/006qRazegy1fdunpet5toj30t50d7n3d.jpg" alt=""></p><p>今天抽时间将所有的网站<a href="https://zh.wikipedia.org/wiki/%E5%82%B3%E8%BC%B8%E5%B1%A4%E5%AE%89%E5%85%A8%E5%8D%94%E8%AD%B0" target="_blank" rel="noopener">SSL证书</a>都更新了成 <a href="https://letsencrypt.org/" target="_blank" rel="noopener">Let’s Encrypt</a> 了。采用了<a href="https://certbot.eff.org" target="_blank" rel="noopener">certbot</a> 这样的自动化工具，配置管理起来非常容易(一本正经的胡说八道)，这里将对整个体验过程做个详细记录。</p><h1 id="了解-Let’s-Encrypt"><a href="#了解-Let’s-Encrypt" class="headerlink" title="了解 Let’s Encrypt"></a>了解 Let’s Encrypt</h1><blockquote><p>The project aims to make encrypted connections in the World Wide Web the default case. By getting rid of payment, web server configuration, validation emails and dealing with expired certificates it is meant to significantly lower the complexity of setting up and maintaining TLS encryption.On a Linux web server, execution of only two commands is sufficient to set up HTTPS encryption, acquire and install certificates within 20 to 30 seconds.</p></blockquote><p><a href="https://letsencrypt.org/" target="_blank" rel="noopener">Let’s Encrypt</a> 是一个2015年末推出的数字证书认证机构，将通过旨在消除当前手动创建和安装证书的复杂过程的自动化流程，为安全网站提供免费的SSL/TLS证书。</p><h1 id="获取-Let’s-Encrypt"><a href="#获取-Let’s-Encrypt" class="headerlink" title="获取 Let’s Encrypt"></a>获取 Let’s Encrypt</h1><p><img src="https://tva2.sinaimg.com/large/006qRazegy1fduo29ztewj30mb0bxt9d.jpg" alt=""><br>Let’s Encrypt 证书生成不需要手动进行，官方推荐 <a href="https://certbot.eff.org" target="_blank" rel="noopener">Certbot</a> 这套自动化工具来实现。4步轻松搞定：</p><ul><li>下载安装 certbot (Let’s Encrypt项目的自动化工具)</li><li>获得SSL证书</li><li>修改Nginx配置文件</li><li>续订</li></ul><h2 id="1-安装-Certbot"><a href="#1-安装-Certbot" class="headerlink" title="1. 安装 Certbot"></a>1. 安装 Certbot</h2><p>根据 <a href="https://certbot.eff.org" target="_blank" rel="noopener">Certbot</a> 官网指南，<code>Debian 8</code>上执行如下命令，安装certbot:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install certbot -t jessie-backports</span><br></pre></td></tr></table></figure><p>等安装完成，<code>certbot</code>就可以使用了。</p><h2 id="2-获取SSL证书"><a href="#2-获取SSL证书" class="headerlink" title="2. 获取SSL证书"></a>2. 获取SSL证书</h2><p>Let’s Encrypt提供了通过各种插件获取SSL证书的各种方法。不同的是Apache的插件，大多数的插件只会帮助你得到，你必须手动配置你的Web服务器使用证书。仅获取证书而不安装证书的插件称为“验证器”，因为它们用于验证服务器是否应颁发证书。<br>下面将使用<code>Webroot</code>的插件来获取SSL证书。</p><h3 id="如何使用-Webroot-插件："><a href="#如何使用-Webroot-插件：" class="headerlink" title="如何使用 Webroot 插件："></a>如何使用 Webroot 插件：</h3><p>Webroot 的工作插件放置在一个特殊的文件<code>/.well-known</code>目录文档根目录下，它可以打开（通过Web服务器）内由让我们的加密服务进行验证。 根据配置的不同，你可能需要明确允许访问/.well-known目录。</p><p>为了确保该目录可供Let’s Encrypt进行验证，让我们快速更改我们的Nginx配置。编辑<code>/etc/nginx/conf.d/example.com.conf</code>文件，并将下面代码添加进去:</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">location</span> <span class="regexp">~ /.well-known</span> &#123;</span><br><span class="line">    <span class="attribute">allow</span> all;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用<code>nginx -t</code>测试配置文件是否正确，在正确的情况下，重新让Nginx重新加载配置文件:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo systemctl reload nginx</span><br></pre></td></tr></table></figure><h3 id="使用certbot命令获取证书："><a href="#使用certbot命令获取证书：" class="headerlink" title="使用certbot命令获取证书："></a>使用certbot命令获取证书：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo certbot certonly --webroot -w /var/www/example -d example.com -d www.example.com -w /var/www/thing -d thing.is -d m.thing.is</span><br></pre></td></tr></table></figure><ul><li><code>-w</code>:指定网站所在目录</li><li><code>-d</code>:指定要生成证书的域名，如果你想多个域名保存在一个证书里(最多四个)(如<code>example.com</code>、<code>www.example.com</code>、<code>thing.is</code>、<code>m.thing.is</code>)，请确保使用适当的webroot路径和域名替换命令中的相对应部分。</li></ul><p>接下来，同意加密订阅协议：<br><img src="https://tva2.sinaimg.com/large/006qRazegy1fdup0jojf7j30fv0bdwf1.jpg" alt=""></p><p>如果一切顺利，你应该看到一个类似下面的输出消息：</p><blockquote><p><strong>IMPORTANT NOTES:</strong></p></blockquote><ul><li>Congratulations! Your certificate and chain have been saved at<br><code>/etc/letsencrypt/live/example.com/fullchain.pem</code>. Your cert will expire<br>on <strong><code>2017-06-19</code></strong>. To obtain a new or tweaked version of this<br>certificate in the future, simply run certbot again. To<br>non-interactively renew <em>all</em> of your certificates, run “certbot<br>renew”</li><li>If you like Certbot, please consider supporting our work by:<blockquote></blockquote>Donating to ISRG / Let’s Encrypt: <a href="https://letsencrypt.org/donate" target="_blank" rel="noopener">https://letsencrypt.org/donate</a><br>Donating to EFF: <a href="https://eff.org/donate-le" target="_blank" rel="noopener">https://eff.org/donate-le</a></li></ul><h3 id="证书文件"><a href="#证书文件" class="headerlink" title="证书文件"></a>证书文件</h3><p>如果运行顺利，所有服务器所需要的证书就已经生成好了。他们被放在了 <code>/etc/letsencrypt/live/example.com/</code> 下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ ls /etc/letsencrypt/live/example.com/</span><br><span class="line">cert.pem <span class="comment">#server cert only  </span></span><br><span class="line">privkey.pem <span class="comment">#private key  </span></span><br><span class="line">chain.pem <span class="comment">#intermediates  </span></span><br><span class="line">fullchain.pem <span class="comment">#server cert + intermediates</span></span><br></pre></td></tr></table></figure><h2 id="3-修改Nginx配置文件"><a href="#3-修改Nginx配置文件" class="headerlink" title="3.修改Nginx配置文件"></a>3.修改Nginx配置文件</h2><p>到这里已经成功一大半了，只需要配置 Nginx 支持刚刚生成的证书。最佳实践可以参考<a href="https://mozilla.github.io/server-side-tls/ssl-config-generator/" target="_blank" rel="noopener">Mozilla SSL Configuration Generator</a>。<br><img src="https://tva2.sinaimg.com/large/006qRazegy1fdupi6lhxmj30oz0lon0q.jpg" alt=""><br>注意去掉HSTS的勾(勾上会强制https，并且很难消除后续影响)。</p><p>请根据自己的服务配置修改和添加内容，<strong>重点只需要关注6行</strong>：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;  </span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">    ....</span><br><span class="line">    <span class="attribute">ssl_certificate</span> /etc/letsencrypt/live/example.com/fullchain.pem;</span><br><span class="line">    <span class="attribute">ssl_certificate_key</span> /etc/letsencrypt/live/example.com/privkey.pem;</span><br><span class="line">    <span class="attribute">ssl_dhparam</span> /etc/nginx/ssl/dhparam.pem;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">ssl_trusted_certificate</span> /etc/letsencrypt/live/example.com/root_ca_cert_plus_intermediates;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">resolver</span> &lt;IP DNS resolver&gt;;</span><br><span class="line">    ....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>dhparam.pem</code>可以通过以下命令生成：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo mkdir /etc/nginx/ssl</span><br><span class="line">$ sudo openssl dhparam -out /etc/nginx/ssl/dhparam.pem 2048</span><br></pre></td></tr></table></figure><p>Nginx 配置完成后重启，用浏览器测试是否一切正常。<br><img src="https://tva2.sinaimg.com/large/006qRazegy1fdupmoluqij306y035glg.jpg" alt=""></p><h2 id="4-续订"><a href="#4-续订" class="headerlink" title="4.续订"></a>4.续订</h2><p><code>Let&#39;s Encrypt</code>证书有效期只有3个月，所以，需要定时renew。我将使用<code>corntab</code>来执行renew命令:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo crontab -e</span><br></pre></td></tr></table></figure><p>添加以下行：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">30 2 * * 1 &#x2F;usr&#x2F;bin&#x2F;certbot renew &gt;&gt; &#x2F;var&#x2F;log&#x2F;le-renew.log &amp;&amp; &#x2F;bin&#x2F;systemctl reload nginx</span><br></pre></td></tr></table></figure><p>保存，并退出。这个定时任务将在每个星期一的凌晨两点半执行<code>certbot renew</code>命令，并重启Nginx。最后将日志输出到<code>/var/log/le-renewal.log</code>。</p><h1 id="测试你的网站-SSL-安全性"><a href="#测试你的网站-SSL-安全性" class="headerlink" title="测试你的网站 SSL 安全性"></a>测试你的网站 SSL 安全性</h1><p><a href="https://www.ssllabs.com/ssltest/index.html" target="_blank" rel="noopener">Qualys SSL Labs</a> 提供了全面的 SSL 安全性测试，填写你的网站域名，给自己的 HTTPS 配置打个分。<br><img src="https://tva2.sinaimg.com/large/006qRazegy1fdupydm71rj30ts0fkt9s.jpg" alt=""><br>这意味着你网站的HTTPS已经启用成功啦，为自己鼓个掌。 (๑•̀ㅂ•́)و✧。</p><hr><h1 id="附："><a href="#附：" class="headerlink" title="附："></a>附：</h1><p>还有一种方法，不需要访问你的网站目录，但需要临时停止Nginx服务器(需要用到80端口)：</p><ol><li>停止Nginx</li><li>域名解析到你的服务器IP</li><li>执行命令:<code>certbot certonly --standalone -d example.com -d www.example.com</code></li></ol><p>然后的步骤就和上面一样啦<del>~</del></p><p>以上。</p></div><div class="article-footer"><blockquote class="mt-2x"><ul class="post-copyright list-unstyled"><li class="post-copyright-link hidden-xs"><strong>本文链接：</strong> <a href="https://ioliu.cn/2017/add-a-lock-to-your-website/" title="给你的网站加把锁 -- Let&#39;s Encrypt 完全体验" target="_blank" rel="external">https://ioliu.cn/2017/add-a-lock-to-your-website/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！</li></ul></blockquote><div class="panel panel-default panel-badger"><div class="panel-body"><figure class="media"><div class="media-left"><a href="https://github.com/xCss" target="_blank" class="img-burn thumb-sm visible-lg"><img src="/images/avatar.jpg" class="img-rounded w-full" alt=""></a></div><div class="media-body"><h3 class="media-heading"><a href="https://github.com/xCss" target="_blank"><span class="text-dark">云淡风轻</span><small class="ml-1x">一个安静的角落</small></a></h3><div>隐约雷鸣，阴霾天空，但盼风雨来，能留你在此。</div></div></figure></div></div></div></article><section id="comments"><div id="vcomments"></div></section></div><nav class="bar bar-footer clearfix" data-stick-bottom><div class="bar-inner"><ul class="pager pull-left"><li class="prev"><a href="/2017/mysql-tutorial/" title="从删库到跑路 -- MySql 不算初体验的初体验"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a></li><li class="next"><a href="/2016/judgment-variable-type/" title="判断变量类型的一些方法"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a></li></ul><button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button><div class="bar-right"><div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div></div></div></nav><div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content donate"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><div class="modal-body"><div class="donate-box"><div class="donate-head"><p>感谢您的支持，我会继续努力的!</p></div><div class="tab-content"><div role="tabpanel" class="tab-pane fade active in" id="alipay"><div class="donate-payimg"><img src="/images/alipay.png" alt="扫码支持" title="扫一扫"></div><p class="text-muted mv">扫码打赏，你说多少就多少</p><p class="text-grey">打开支付宝扫一扫，即可进行扫码打赏哦</p></div><div role="tabpanel" class="tab-pane fade" id="wechatpay"><div class="donate-payimg"><img src="/images/wechatpay.png" alt="扫码支持" title="扫一扫"></div><p class="text-muted mv">扫码打赏，你说多少就多少</p><p class="text-grey">打开微信扫一扫，即可进行扫码打赏哦</p></div></div><div class="donate-footer"><ul class="nav nav-tabs nav-justified" role="tablist"><li role="presentation" class="active"><a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a></li><li role="presentation"><a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a></li></ul></div></div></div></div></div></div></main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter"><ul class="social-links"><li><a href="https://github.com/xCss" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li><li><a href="http://weibo.com/BingPictures" target="_blank" title="Weibo" data-toggle="tooltip" data-placement="top"><i class="icon icon-weibo"></i></a></li><li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li><li><div class="darkmode-toggle" title="主题切换" data-toggle="tooltip" data-placement="top">🌓</div></li></ul><div class="copyright">&copy; 2013-2024 云淡风轻<div class="publishby">Theme by <a href="https://github.com/cofess" target="_blank">cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.</div><div><a href="http://beian.miit.gov.cn/" target="_blank" class="publishby">粤ICP备15050037号-1</a></div><p><a href="https://icp.gov.moe/?keyword=20242007" target="_blank" class="publishby">萌ICP备20242007号</a></p></div></footer><script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script><script>window.jQuery||document.write('<script src="js/jquery.min.js"><\/script>');var prefersDarkMode=window.matchMedia("(prefers-color-scheme: dark)"),toggle=document.querySelector(".darkmode-toggle"),html=document.querySelector("html");html.setAttribute("data-dark",localStorage.dark||prefersDarkMode.matches),$(function(){$(document).off("click",".darkmode-toggle").on("click",".darkmode-toggle",function(){localStorage.dark=!("true"==$("html").attr("data-dark")),$("html").attr("data-dark",localStorage.dark)})})</script><script src="/js/plugin.min.js"></script><script src="/js/application.js"></script><script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"文章",PAGES:"页面",CATEGORIES:"分类",TAGS:"标签",UNTITLED:"(未命名)"},ROOT_URL:"/",CONTENT_URL:"/content.json"}</script><script src="/js/insight.js"></script><script src="//cdn.jsdelivr.net/npm/valine"></script><script type="text/javascript">var GUEST=["nick","mail","link"],meta=(meta="nick,mail,link").split(",").filter(function(i){return-1<GUEST.indexOf(i)});new Valine({el:"#vcomments",verify:!0,notify:!0,appId:"R9cQjqaD9AXPKY7AQiU6U6yl",appKey:"YHUU5n9sbvpRQCdiIU8aRsmH",placeholder:"ヾﾉ≧∀≦)o来啊，快活啊!",avatar:"mp",meta:meta,pageSize:"10",visitor:!0})</script></body></html>